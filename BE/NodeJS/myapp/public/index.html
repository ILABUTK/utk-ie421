<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Theme Made By www.w3schools.com - No Copyright -->
  <title>Bootstrap Theme Simply Me</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style>
  body {
      font: 20px Montserrat, sans-serif;
      line-height: 1.8;
      color: #f5f6f7;
  }
  p {font-size: 16px;}
  .margin {margin-bottom: 45px;}
  .bg-1 { 
      background-color: #1abc9c; /* Green */
      color: #ffffff;
  }
  .bg-2 { 
      background-color: #474e5d; /* Dark Blue */
      color: #ffffff;
  }
  .bg-3 { 
      background-color: #ffffff; /* White */
      color: #555555;
  }
  .bg-4 { 
      background-color: #2f2f2f; /* Black Gray */
      color: #fff;
  }
  .container-fluid {
      padding-top: 70px;
      padding-bottom: 70px;
  }
  .navbar {
      padding-top: 15px;
      padding-bottom: 15px;
      border: 0;
      border-radius: 0;
      margin-bottom: 0;
      font-size: 12px;
      letter-spacing: 5px;
  }
  .navbar-nav  li a:hover {
      color: #1abc9c !important;
  }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">Me</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#who">WHO</a></li>
        <li><a href="#what">WHAT</a></li>
        <li><a href="#where">WHERE</a></li>
      </ul>
    </div>
  </div>
</nav>


<!-- First Container -->
<div class="container-fluid bg-1 text-center" id="who">
  <h3 class="margin">Who Am I?</h3>
  <img src="images/bird.jpg" class="img-responsive img-circle margin" style="display:inline" alt="Bird" width="350" height="350">
  <h3>I'm an adventurer</h3>
</div>

<!-- Second Container -->
<div class="container-fluid bg-2 text-center" id="what">
  <h3 class="margin">What Am I?</h3>
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
  <a href="#" class="btn btn-default btn-lg">
    <span class="glyphicon glyphicon-search"></span> Search
  </a>
</div>

<!-- Third Container (Grid) -->
<div class="container-fluid bg-3 text-center" id="where">    
  <h3 class="margin">Where To Find Me?</h3><br>
  <div class="row">
    <div class="col-sm-4">
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <img src="images/birds1.jpg" class="img-responsive margin" style="width:100%" alt="Image">
    </div>
    <div class="col-sm-4"> 
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <img src="images/birds2.jpg" class="img-responsive margin" style="width:100%" alt="Image">
    </div>
    <div class="col-sm-4"> 
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <img src="images/birds3.jpg" class="img-responsive margin" style="width:100%" alt="Image">
    </div>
  </div>
</div>

<!-- START OF MY DEMO CODE -->
<div ng-app="myApp"><div ng-controller="crud_controller">

<!-- Fourth Container -->
<div class="container-fluid bg-1 text-center" id="crud_r">
  <h3 class="margin">Demo of "R": Displaying Data</h3>
  <div ng-init="show()">
    <table class="table">
      <tr>
        <td>UTID</td><td>NAME</td>
      </tr>
      <tr ng-repeat="x in names">
        <td>{{ x.utid }}</td>
        <td>{{ x.student_name }}</td>
      </tr>
    </table>
  </div>
  <h3>{{c_status}}</h3>
</div>

<hr />

<!-- FIFTH Container -->
<div class="container-fluid bg-1 text-center" id="crud_c">
  <h3 class="margin">Demo of "C": Create Data</h3>
  <div>
    <form class="form-group">
      UTID:<br>
      <input type="number" class="form-control" ng-model="utid" required><br>
      Name:<br>
      <input type="text" class="form-control" ng-model="student_name" required>
      <br><br>
      <button type="submit" class="btn btn-default" ng-click="save()">Add</button>
    </form>
    <p>utid:{{utid}} <br>name:{{student_name}} </p>
    <h3>{{r_status}}</h3>
  </div>  
</div>

<hr />
<!--  Container:: Search -->
<div class="container-fluid bg-1 text-center" id="crud_search">
  <h3 class="margin">Demo of "R" #2: Search </h3>
  <form class="form-group">
      Name:<br>
      <input type="text" class="form-control" ng-model="search_name" required>
      <br><br>
      <button type="submit" class="btn btn-default" ng-click="search()">Search</button>
  </form>

  <table class="table">
      <tr>
        <td>UTID</td><td>NAME</td>
      </tr>
      <tr ng-repeat="x in studentsFound">
        <td>{{ x.utid }}</td>
        <td>{{ x.student_name }}</td>
      </tr>
  </table>
  <h3>{{s_status}}</h3>
</div>

<hr />

<!--  Container:: login -->
<div class="container-fluid bg-1 text-center" id="crud_login">
  <h3 class="margin">Demo of "R" #: Login (Use UTID/NAME for demo) </h3>
  <form class="form-group">
      UTID:<br>
      <input type="number" class="form-control" ng-model="login_utid" required><br>
      Name:<br>
      <input type="password" class="form-control" ng-model="login_pwd" required>
      <br><br>
      <button type="submit" class="btn btn-default" ng-click="login()">Login</button>
  </form>
  <h3>{{login_status}}</h3>
</div>

<hr />
<!--  demo:: "dynamic images" -->
<div class="container-fluid bg-2 text-center">
  <h3 class="margin">Demo of load a dynamic image! </h3>
  <img ng-src="{{agImage}}" class="img-responsive img-circle margin" style="display:inline" alt="Bird" width="350" height="350">
</div>

</div></div>

<!-- Footer -->
<footer class="container-fluid bg-4 text-center">
  <p>Bootstrap Theme Made By <a href="https://www.w3schools.com">www.w3schools.com</a></p> 
</footer>

 
<script>
var app = angular.module('myApp', []);

app.controller('crud_controller', function($scope, $http) {
  // query
  $scope.show = function () {
   $http.get("mysql/student")
   .then(function (response) {
      $scope.names = response.data;
      $scope.c_status = 'Wow! It works!';
      // console.log(response.data);
  });
 };

  // add
  $scope.save = function () {
    $http.post("mysql/student", {"utid": $scope.utid, "student_name": $scope.student_name})
    .then(function (response) {
        // add locally!
        $scope.names.push({"utid": $scope.utid, "student_name": $scope.student_name});
        
        $scope.utid = '';
        $scope.student_name = '';        
        $scope.r_status = 'Wow! It works!';
        
        alert('Record Added!');
        // $scope.added = response.data;
        console.log(response.data);
    }, function myError(response) {
      $scope.r_status = 'Ooops! Error!';
    });
  };

  // search
  $scope.search = function () {
    $http.post("mysql/search_stu", {"student_name": $scope.search_name})
    .then(function (response) {
        $scope.studentsFound = response.data;
        $scope.s_status = 'Wow! Found them!';
    }, function myError(response) {
      $scope.r_status = 'Ooops! Error!';
    });
  };

  // login
  $scope.login = function () {
    $http.post("mysql/login", {"utid": $scope.login_utid, "student_name": $scope.login_pwd})
    .then(function (response) {
        if (response.data)
          $scope.login_status = 'Super! You are logged in!';
    }, function myError(response) {
      $scope.login_status = 'Ooops! Error!';
    });
  };

  $scope.agImage = "images/bird.jpg";

});

</script>
</body>
</html>
